
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Distiller module &#8212; Building Standards Compliant Geospatial Web Applications - The Quick and Easy MapMint Way.</title>
    <link rel="stylesheet" href="static/classic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript" src="static/documentation_options.js"></script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Manager Module" href="manager.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="manager.html" title="The Manager Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workshop</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-distiller-module">
<span id="distiller"></span><h1>The Distiller module<a class="headerlink" href="#the-distiller-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-of-the-interface">
<h2>Overview of the interface<a class="headerlink" href="#overview-of-the-interface" title="Permalink to this headline">¶</a></h2>
<p>The Distiller Interface contains two panels and looks similar to the following image.</p>
<a class="reference external image-reference" href="/ZOOProject.pdf"><img alt="PDF icon" class="align-center" src="../../static/images/distiller.png" style="width: 100%;" /></a>
</div>
<div class="section" id="the-data-stores">
<h2>The Data Stores<a class="headerlink" href="#the-data-stores" title="Permalink to this headline">¶</a></h2>
<p>A Datastore contains data sources. These data sources can be local or remote. It is defined by a <strong>unique name</strong> and various parameters depending on its type. Currently, there are 3 different datastore types supported in MapMint:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="28%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Icon</strong></td>
<td><strong>Type</strong></td>
<td><strong>Action</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/add-database.png"><img alt="Add database" src="../../static/images/add-database.png" style="height: 24px;" /></a></td>
<td>DataBase</td>
<td>Add a database connection</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/add-directory.png"><img alt="Add directory" src="../../static/images/add-directory.png" style="height: 24px;" /></a></td>
<td>Directory</td>
<td>Add a server directory</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/add-wfs.png"><img alt="Add OGC Service" src="../../static/images/add-wfs.png" style="height: 24px;" /></a></td>
<td>OGC Server</td>
<td>Add a remote WMS/WFS server</td>
</tr>
</tbody>
</table>
<p>Creating a datastore requires you to set a name, use an existing or new
directory then select the directory or set the name of the new one.</p>
<dl class="docutils">
<dt>Create two Directory datastore like the following:</dt>
<dd><ul class="first last simple">
<li>Name: NC_Shapes, Path: north_carolina &gt; shape</li>
<li>Name: NC_Rasters, Path: north_carolina &gt; rast_geotiff</li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The datastore name should not contain any <strong>accent</strong> or any special character available in any language.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Afterward, you can always add your own data in <cite>/var/data/ftp/your-directory</cite> and then create a corresponding datastore from your Distiller.</p>
</div>
<p>If you click on a datastore name on the left hand side (so in the <cite>Data Stores</cite> section), you will get a list of available datasources in this datastore. The list of datasources is displayed on the right hand side (so in the <cite>Data Sources</cite> section).</p>
</div>
<div class="section" id="the-data-sources">
<h2>The Data Sources<a class="headerlink" href="#the-data-sources" title="Permalink to this headline">¶</a></h2>
<p>A data source is corresponding to GIS data available in a datastore (it can be a table in a database, a shapefile in a directory, a layer in WFS/WMS layer). MapMint supports a variety of data sources.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Icon</strong></td>
<td><strong>Type</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/data-vector-point-icon.png"><img alt="Vector point datasource icon" src="../../static/images/data-vector-point-icon.png" style="height: 24px;" /></a></td>
<td>Point datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/data-vector-line-icon.png"><img alt="Vector line datasource icon" src="../../static/images/data-vector-line-icon.png" style="height: 24px;" /></a></td>
<td>Line datasource</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/data-vector-polygon-icon.png"><img alt="Vector polygon datasource icon" src="../../static/images/data-vector-polygon-icon.png" style="height: 24px;" /></a></td>
<td>Polygon datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/data-raster-icon.png"><img alt="Raster datasource icon" src="../../static/images/data-raster-icon.png" style="height: 24px;" /></a></td>
<td>Raster datasource</td>
</tr>
</tbody>
</table>
<div class="section" id="data-sources-toolbar">
<h3>Data sources toolbar<a class="headerlink" href="#data-sources-toolbar" title="Permalink to this headline">¶</a></h3>
<p>Once listed, each data source available in a datastore has a toolbar associated with it, which contains the following buttons.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Icon</strong></td>
<td><strong>Action</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/select.png"><img alt="Select a datasource" src="../../static/images/select.png" style="width: 24px;" /></a></td>
<td>Select the datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/preview.png"><img alt="Preview icon" src="../../static/images/preview.png" style="width: 24px;" /></a></td>
<td>Preview the datasource</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/privileges.png"><img alt="Set privileges" src="../../static/images/privileges.png" style="width: 24px;" /></a></td>
<td>Set the privileges to access the datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/process.png"><img alt="Pocess the datasource" src="../../static/images/process.png" style="width: 24px;" /></a></td>
<td>Process the datasource</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/download.png"><img alt="Download the datasource" src="../../static/images/download.png" style="width: 24px;" /></a></td>
<td>Download the datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/openinmanager.png"><img alt="Open the datasource in the Manager" src="../../static/images/openinmanager.png" style="width: 24px;" /></a></td>
<td>Open the datasource in the Manager</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/delete.png"><img alt="Delete datasource icon" src="../../static/images/delete.png" style="width: 24px;" /></a></td>
<td>Delete the datasource</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../static/images/displaycontent.png"><img alt="Display content icon" src="../../static/images/displaycontent.png" style="width: 24px;" /></a></td>
<td>Display the datasource (attributes table or histogram)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When the SRS field contain <em>No EPSG</em>, it means that MapMint
understands the SRS of the data source but cannot display it as EPSG
code. When the SRS field displays <em>(undefined)</em>, it implies that the SRS is unknown. In
such a case, MapMint will use EPSG:4326 definition as default SRS,
but at any time, a new datasource can be created with correct SRS settings by clicking on the Process button.</p>
</div>
</div>
<div class="section" id="quickly-preview-your-data">
<h3>Quickly preview your data<a class="headerlink" href="#quickly-preview-your-data" title="Permalink to this headline">¶</a></h3>
<p>For both vector and raster data source, you can preview your data
source by clicking on the <em>Preview</em> button. On clicking it, you will then get a window
presenting the data using a GetMap WMS request and which should look
like the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Vector data source</strong></td>
<td><strong>Raster data source</strong></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../static/images/pvec.png"><img alt="Preview vector window" src="../../static/images/pvec.png" style="width: 380px;" /></a></td>
<td><a class="reference internal" href="../../static/images/pras.png"><img alt="Preview raster window" src="../../static/images/pras.png" style="width: 380px;" /></a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="vector-data-sources">
<h2>Vector data sources<a class="headerlink" href="#vector-data-sources" title="Permalink to this headline">¶</a></h2>
<p>You are invited to first display data sources available in the <em>NC_Shapes</em> data store.</p>
<div class="section" id="display-attributes-table">
<h3>Display attributes table<a class="headerlink" href="#display-attributes-table" title="Permalink to this headline">¶</a></h3>
<p>If you press the button looking like a down arrow (the last row of
the <a class="reference external" href="#data-sources-toolbar">toolbar table</a>) you can display
the attribute values table and browse your data smoothly. Also, you can
order and modify column order. One important capability of the table
is that you can modify the encoding of your data in case you are using
data which is not in UTF-8 encoding. By this, your data will be returned
correctly in utf-8 from your WFS server.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Vector data sources are always using a basic style which cannot be accessed.</p>
</div>
</div>
<div class="section" id="convert-vector-data-sources">
<h3>Convert vector data sources<a class="headerlink" href="#convert-vector-data-sources" title="Permalink to this headline">¶</a></h3>
<p>You are invited to click on the <em>Convert</em> button in the toolbar for
the <em>poi_names_wake</em> to access the converting tool window as presented
in the screenshot below.</p>
<p><a class="reference internal" href="../../static/images/ogr2ogr.png"><img alt="Ogr2ogr window" src="../../static/images/ogr2ogr.png" style="width: 780px;" /></a></p>
<p>The <em>Vector Converter</em> window contains various parameters which can be set
to create a new data source by transforming the original one. There are
4 parts in the form:</p>
<blockquote>
<div><ul class="simple">
<li><em>Source SRS</em>: optional, to define the source Spatial Reference System (SRS) (should be only used in case when there is undefined written in the SRS section in the data source toolbar.</li>
<li><dl class="first docutils">
<dt><em>Target</em>: to define:</dt>
<dd><ul class="first last">
<li><em>Datastore</em>: the data store where your data source will be created</li>
<li><em>Datasource name</em>: the name by which your data source will be created</li>
<li><em>SRS</em>: optional, the SRS used to create the new data source</li>
<li><em>Format</em>: the data source format of your created data source</li>
</ul>
</dd>
</dl>
</li>
<li><em>Simplify</em>: optional, gives you the capability to simplify the data source geometries</li>
<li><em>SQL</em>: optional, gives you the capability to simplify the data source geometries</li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In case the created data source is a file, make sure to add the
extension in its name otherwise it will lead to a directory creation
making your data store unavailable. In case, if a directory gets created, you will have to remove the directory first. Then, to have up-to-date list, first right click on the Data Store
unavailable and click on the <em>Refresh</em> item from the displayed
contextual menu, then check it again.</p>
</div>
<p>We will use the following example: from the points of interest data
source, you would like to extract the subset containing only the
<em>Populated Places</em>. So you will first check the SQL section and fill
the textarea with the following query:</p>
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">poi_names_wake</span> <span class="pre">WHERE</span> <span class="pre">class</span> <span class="pre">=</span> <span class="pre">'Populated</span> <span class="pre">Place'</span></code></p>
<p>Now, click on the <em>Run convertion</em> button, once your data source is
created, the window gets closed automatically. Now, you should refresh
your data store, by accessing datastorel menu for  the <em>NC_Shapes</em>
data store. Once the Distiller has reloaded the datastore,
you should be able to see your new data source appearing in the
datasources list.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Source code of the ZOO-Service vector-converter is based
on <strong>ogr2ogr</strong> from the <a class="reference external" href="http://gdal.org">GDAL library</a>.</p>
</div>
</div>
</div>
<div class="section" id="raster-data-sources">
<h2>Raster data sources<a class="headerlink" href="#raster-data-sources" title="Permalink to this headline">¶</a></h2>
<p>You are invited to first display data sources available in the
<em>NC_Rasters</em> data store.</p>
<div class="section" id="display-histogram">
<h3>Display histogram<a class="headerlink" href="#display-histogram" title="Permalink to this headline">¶</a></h3>
<p>If you press the button looking like a down arrow (the last row of
the <a class="reference external" href="#data-sources-toolbar">toolbar table</a>) you can display
the histogram of your raster bands.</p>
</div>
<div class="section" id="raster-tools">
<h3>Raster tools<a class="headerlink" href="#raster-tools" title="Permalink to this headline">¶</a></h3>
<p>As you did previously for vector data, open the Converter window for
the <em>elevation</em> data source.</p>
<p><a class="reference internal" href="../../static/images/gdaldem.png"><img alt="Gdaldem window" src="../../static/images/gdaldem.png" style="width: 780px;" /></a></p>
<p>Your goal is to create a new raster data sources named as <em>elevation_shaded</em> having a nice shaded relief effect. First select the
hillshade method, then set the <em>Filename</em> value to
<cite>test_elevation_shade</cite> then click on the <em>Run</em> button.</p>
<p>You are free to generate more raster data sources using other methods.
Please make sure to change the name every time you generate a new raster
data source.</p>
<p>Now, you will simply need to refresh you data store as you did
before. Once you have it listed, you can preview it.</p>
</div>
</div>
<div class="section" id="open-datasources-in-the-manager">
<h2>Open datasources in the Manager<a class="headerlink" href="#open-datasources-in-the-manager" title="Permalink to this headline">¶</a></h2>
<p>Using the raster datasources created in the previous step, prior to go
to the next section, please select both the <em>elevation_shaded</em> and
<em>elevation</em> datasources, then press the <em>Open in the Manager</em> button
of the datastore. This should open your manager with the two
datasources available as layers from your Manager.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The raster convertion tools presented here are based on
gdaldem dan gdal_contour source code from the <a class="reference external" href="http://gdal.org">GDAL library</a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Distiller module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-the-interface">Overview of the interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-stores">The Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-sources">The Data Sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-sources-toolbar">Data sources toolbar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quickly-preview-your-data">Quickly preview your data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vector-data-sources">Vector data sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#display-attributes-table">Display attributes table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convert-vector-data-sources">Convert vector data sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#raster-data-sources">Raster data sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#display-histogram">Display histogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#raster-tools">Raster tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#open-datasources-in-the-manager">Open datasources in the Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manager.html">The Manager Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="publisher.html">The Publisher Module</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="manager.html" title="The Manager Module"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workshop</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>
