
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Applications with recorded data &#8212; MapMint data collection - MapMint4ME</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="The MapMint4ME data collector" href="mm4me.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mm4me.html" title="The MapMint4ME data collector"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workshop</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="applications-with-recorded-data">
<span id="dmap"></span><h1>Applications with recorded data<a class="headerlink" href="#applications-with-recorded-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="show-a-map-for-your-table">
<h2>Show a map for your table<a class="headerlink" href="#show-a-map-for-your-table" title="Permalink to this headline">¶</a></h2>
<p>You may want to add a map to your online table edition form. In such a
case, there are some rules to respect to get the map functionning
properly.</p>
<p>From the Distiller module, click on the <em>Open in manager</em> button to
create a new project using the table used to store the data recorded
on the field. In case it does not appear directly in the Distiller,
please use the refresh button to get up-to-date informations about
every geographic tables within the database.</p>
<a class="reference internal image-reference" href="_images/mmtmc0.png"><img alt="MapMint4ME Home" class="align-center" src="_images/mmtmc0.png" style="width: 100%;" /></a>
<p>From the Manager, save you project under a name respecting the
following syntaxe: <code class="docutils literal notranslate"><span class="pre">&lt;schema&gt;___&lt;table&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;schema&gt;</span></code> should be
replaced by the schema name (in your case <code class="docutils literal notranslate"><span class="pre">sample</span></code> ) and
<code class="docutils literal notranslate"><span class="pre">table</span></code> should be replace by your table name (in your case,
<code class="docutils literal notranslate"><span class="pre">wsxpoints</span></code>). Then, define the parameters to make your layer
appearing the way want with the activated capabilities you need. After
the settings for your project is over, publish it as any other project
by allowing, at least, the user groups allowed to edit the table.</p>
<a class="reference internal image-reference" href="_images/mmtmc1.png"><img alt="MapMint4ME Home" class="align-center" src="_images/mmtmc1.png" style="width: 100%;" /></a>
<p>Now, if you access again the MapMint table client module, you should
now get an associated map which zoom on the element you have
selected.</p>
<a class="reference internal image-reference" href="_images/mmtmc2.png"><img alt="MapMint4ME Home" class="align-center" src="_images/mmtmc2.png" style="width: 100%;" /></a>
</div>
<div class="section" id="create-report-for-your-data">
<h2>Create report for your data<a class="headerlink" href="#create-report-for-your-data" title="Permalink to this headline">¶</a></h2>
<p>Depending on the type of your data you may want to produce a
report. MapMint rely on LibreOffice server which is responsible for
generating the reports in various formats. MapMint uses its own
templating system fully compatible with Open Document Text (odt)
format. For producing reports for a table or an elemnt, MapMint will
use an odt template file, which is a very basic odt file, and will
replace every field found in the template by the expected value(s).</p>
<p>Let suppose that we want to get a table showing the last 10 item
recorded and a diagram showing the repartition of record amongst the
catogories.</p>
<p>First of all, you have to create an odt file using your local
LibreOffice installation. Then create add a table to the document with
2 rows and 2 columns. Then set <em>Title</em> and <em>Description</em> in the first
row of the table. Right-click on the table, in the contextual menu,
click on the <em>Table properties</em>. Here, set the table name as
<code class="docutils literal notranslate"><span class="pre">[_listing1_]</span></code> and press <em>OK</em>.</p>
<p>Now, we will add a digram, define it as circular and give a name by
using the <em>Object…</em> itemfrom the contextual menu appearing when you
right-click on the diagram in your document. Here, choose the name
<code class="docutils literal notranslate"><span class="pre">[_diag1_]</span></code> and press <em>OK</em>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/mmr-2.png"><img alt="MapMint4ME Home" src="_images/mmr-2.png" style="width: 100%;" /></a></td>
<td><a class="reference internal" href="_images/mmr-1.png"><img alt="MapMint4ME Home" src="_images/mmr-1.png" style="width: 100%;" /></a></td>
</tr>
</tbody>
</table>
<p>Finaly, you will need to link your report with your table then to
configure the way you want the table and diagram to be filled with.</p>
<p>To do so, go to the MapMint table administration interface,
select your table configuration from the list then click on the
<em>Report</em> tab to access the report settings.</p>
<a class="reference internal image-reference" href="_images/mmr0.png"><img alt="MapMint4ME Home" class="align-center" src="_images/mmr0.png" style="width: 80%;" /></a>
<p>Here, you can set the following parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="78%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Title</strong></td>
<td>the tab title</td>
</tr>
<tr class="row-even"><td><strong>Select element</strong></td>
<td>check if the report production depends on a selected element</td>
</tr>
<tr class="row-odd"><td><strong>Clause</strong></td>
<td>the SQL where condition (true in case no condition)</td>
</tr>
<tr class="row-even"><td><strong>Groups</strong></td>
<td>the user groups allowed to produce such a report</td>
</tr>
<tr class="row-odd"><td><strong>Document model</strong></td>
<td>the odt template</td>
</tr>
</tbody>
</table>
<p>Once you have uploaded your document model, by selecting your local
odt file then pressing the <em>Import</em> button, you shall see every fields
you have defined in your template. So, in your case the <code class="docutils literal notranslate"><span class="pre">diag1</span></code> and
<code class="docutils literal notranslate"><span class="pre">listing1</span></code>.</p>
<p>For every field defined in your template you can define a type and a
value to be included in the report.</p>
<p>In your case, the <code class="docutils literal notranslate"><span class="pre">diag1</span></code> type should be <strong>Diagram</strong> and
the value the following SQL query:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="x">(select</span>
<span class="x">  $q$ &#39;</span><span class="cp">{</span><span class="nv">$q</span><span class="err">$</span> <span class="o">||</span> <span class="s1">&#39;&#39;&#39;&#39;</span> <span class="o">||</span> <span class="na">a</span><span class="o">::</span><span class="na">text</span> <span class="o">||</span> <span class="s1">&#39;&#39;&#39;&#39;</span> <span class="o">||</span> <span class="nv">$q</span><span class="err">$</span><span class="o">,</span> <span class="s1">&#39;{&quot;Categories&quot;}&#39;</span><span class="o">,</span>  <span class="nv">$q</span><span class="err">$</span> <span class="o">||</span> <span class="s1">&#39;&#39;&#39;&#39;</span> <span class="o">||</span> <span class="na">b</span><span class="o">::</span><span class="na">text</span> <span class="o">||</span> <span class="s1">&#39;&#39;&#39;&#39;</span>
  <span class="o">||</span> <span class="nv">$q</span><span class="err">$</span><span class="cp">}</span><span class="x">&#39;$q$</span>
<span class="x">from</span>
<span class="x"> (</span>
<span class="x">  select</span>
<span class="x">   array( select name||$q$ $q$ from sample.categories</span>
<span class="x">      where id in (select distinct category from sample.wsxpoints) ) as a,</span>
<span class="x">  array(select</span>
<span class="x">          array[count(*)] from sample.wsxpoints</span>
<span class="x">   group by category order by category) as b</span>
<span class="x"> ) as v)</span>
</pre></div>
</div>
<p>For the <code class="docutils literal notranslate"><span class="pre">listing1</span></code> field, set the type to <strong>SQL Table</strong> and the
value to the following SQL query:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>(select ARRAY[
 ARRAY[&#39;Name &#39;,&#39;Description &#39;]] ||
 array((select array[name::text||$q$ $q$]||array[description::text||$q$ $q$] from sample.wsxpoints order by id desc limit 5))
 )
</pre></div>
</div>
<p>You should press the <em>Save</em> button for your report settings to be
saved. Then, as presented in the screen shot below, you should see a
new tab, named as you have entitled your report, appearing from the
MapMint table client module. If you access it, you can then press <em>Run</em>
to ask the server to generate the report. At the end of its
processing, it will return a link to the pdf, odt, doc, and html
version of the produced report.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/mmr1.png"><img alt="MapMint4ME Home" src="_images/mmr1.png" style="width: 100%;" /></a></td>
<td><a class="reference internal" href="_images/mmr2.png"><img alt="MapMint4ME Home" src="_images/mmr2.png" style="width: 100%;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>In this final section, you have leanrt how to add a map to your
MapMint table client module and to produce reports out of the
recorded data.</p>
<p>You should be now able to setup the MapMint table module from any
MapMint instance. Then, create tables, when required, and configure
edition forms for theses tables. You know that it is easy and reliable
to use MapMint4ME for data collection in relationship with a MapMint
server. The final touch was the map view from table client module and
the reporting abuot the data collected.</p>
<p>Hoping you had great time reading this material.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="tables.html">The Table modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="mm4me.html">The MapMint4ME data collector</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Applications with recorded data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#show-a-map-for-your-table">Show a map for your table</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-report-for-your-data">Create report for your data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mm4me.html" title="The MapMint4ME data collector"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workshop</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>